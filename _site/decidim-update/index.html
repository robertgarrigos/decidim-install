<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  
    <title>Updating Decidim between version - Decidim Install guide by Platoniq</title>

    
  

  <link rel="shortcut icon" href="http://localhost:4000/favicon.ico" type="image/x-icon">

  <link rel="stylesheet" href="http://localhost:4000/assets/css/just-the-docs.css">

  

  
    <script type="text/javascript" src="http://localhost:4000/assets/js/vendor/lunr.min.js"></script>
  
  <script type="text/javascript" src="http://localhost:4000/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Updating Decidim between version | Decidim Install guide by Platoniq</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Updating Decidim between version" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A step by step guide to install Decidim for newcommers" />
<meta property="og:description" content="A step by step guide to install Decidim for newcommers" />
<link rel="canonical" href="http://localhost:4000/decidim-update/" />
<meta property="og:url" content="http://localhost:4000/decidim-update/" />
<meta property="og:site_name" content="Decidim Install guide by Platoniq" />
<script type="application/ld+json">
{"description":"A step by step guide to install Decidim for newcommers","headline":"Updating Decidim between version","@type":"WebPage","url":"http://localhost:4000/decidim-update/","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>

  <div class="page-wrap">
    <div class="side-bar">
      <a href="http://localhost:4000/" class="site-title fs-6 lh-tight">Decidim Install guide by Platoniq</a>
      <span class="fs-3"><button class="js-main-nav-trigger navigation-list-toggle btn btn-outline" type="button" data-text-toggle="Hide">Menu</button></span>
      <div class="navigation main-nav js-main-nav">
        <nav role="navigation" aria-label="Main navigation">
  <ul class="navigation-list">
    
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/" class="navigation-list-link">Installing Decidim</a>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/decidim-bionic/" class="navigation-list-link">Install Decidim on Ubuntu 18.04</a>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/basic-config/" class="navigation-list-link">Minimal configuration of Decidim</a>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/decidim-aws/" class="navigation-list-link">Installing in Amazon AWS with ElasticBeanstalk</a>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item active">
            
            <a href="http://localhost:4000/decidim-update/" class="navigation-list-link active">Updating Decidim between version</a>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/advanced-config/" class="navigation-list-link">Advanced config & tricks</a>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/hacking-decidim/" class="navigation-list-link">Hacking Decidim</a>
            
          </li>
        
      
    
  </ul>
</nav>

<hr>
Fork me on GitHub: <a class="github-button" href="https://github.com/Platoniq/decidim-install" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star Platoniq/decidim-install on GitHub">Star</a>

<script async defer src="https://buttons.github.io/buttons.js"></script>

      </div>
      <footer role="contentinfo" class="site-footer">
        <p class="text-small text-grey-dk-000 mb-0">This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</p>
      </footer>
    </div>
    <div class="main-content-wrap js-main-content" tabindex="0">
      <div class="page-header">
        <div class="main-content">
          
          <div class="search js-search">
            <div class="search-input-wrap">
              <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search Decidim Install guide by Platoniq" aria-label="Search Decidim Install guide by Platoniq" autocomplete="off">
              <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg>
            </div>
            <div class="js-search-results search-results-wrap"></div>
          </div>
          
          
            <ul class="list-style-none text-small mt-md-1 mb-md-1 pb-4 pb-md-0 js-aux-nav aux-nav">
              
                <li class="d-inline-block my-0"><a href="//github.com/Platoniq/decidim-install">Decidim Install on GitHub</a></li>
              
            </ul>
          
        </div>
      </div>
      <div class="main-content">
        
          
        
        <div id="main-content" class="page-content" role="main">
          <h1 id="updating-decidim">Updating Decidim</h1>

<p>Because Decidim is a gem in our system, to update it we will have to edit our <code class="highlighter-rouge">Gemfile</code> and specify the new version number.</p>

<p>To keep our system up to date, we can visit the page https://github.com/decidim/decidim/releases and compare with our <code class="highlighter-rouge">Gemfile</code>. See if the lines specifying the gem called “decidim-something” are followed by the number corresponding to the latest release:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">gem</span> <span class="s2">"decidim"</span><span class="p">,</span> <span class="s2">"0.15.1"</span>
<span class="n">gem</span> <span class="s2">"decidim-conferences"</span><span class="p">,</span> <span class="s2">"0.15.1"</span>
<span class="n">gem</span> <span class="s2">"decidim-consultations"</span><span class="p">,</span> <span class="s2">"0.15.1"</span>
<span class="n">gem</span> <span class="s2">"decidim-initiatives"</span><span class="p">,</span> <span class="s2">"0.15.1"</span>

<span class="n">gem</span> <span class="s2">"decidim-dev"</span><span class="p">,</span> <span class="s2">"0.15.1"</span>
</code></pre></div></div>

<p>For example, if the latest release is 0.16 we could decide to update.</p>

<p>To update, usually requires only to change the old version number on these gems to the new one. For instance, previous example should be:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">gem</span> <span class="s2">"decidim"</span><span class="p">,</span> <span class="s2">"0.16"</span>
<span class="n">gem</span> <span class="s2">"decidim-conferences"</span><span class="p">,</span> <span class="s2">"0.16"</span>
<span class="n">gem</span> <span class="s2">"decidim-consultations"</span><span class="p">,</span> <span class="s2">"0.16"</span>
<span class="n">gem</span> <span class="s2">"decidim-initiatives"</span><span class="p">,</span> <span class="s2">"0.16"</span>

<span class="n">gem</span> <span class="s2">"decidim-dev"</span><span class="p">,</span> <span class="s2">"0.16"</span>
</code></pre></div></div>

<p>After doing that, you need to execute these commands:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bundle update decidim
bin/rails decidim:upgrade
bin/rails db:migrate
</code></pre></div></div>

<p>In theory, that would be all. However, you need to be careful in certain situations, specially if your copy of Decidim has many code modifications. I’d recommend to always test the upgrade in a separate machine with the same configuration (If using Digitalocean you can create an snapshot of the server, tested the update, and then remove it, similar process on other providers).</p>

<h3 id="recommendations">Recommendations</h3>

<ol>
  <li>Make a full backup of the database before updating, just in case something unexpected happens.</li>
  <li>If you are more than update away. Always update from one version to the immediately next one and then repeat the process until you are up to date.</li>
  <li>Always check the instructions for a certain version upgrade in https://github.com/decidim/decidim/releases. Some releases require to perform certain actions as they may change some database structures. Follow that instructions if you are affected.</li>
  <li>Check also the file https://github.com/decidim/decidim/blob/master/CHANGELOG.md It may have relevant information for updates between versions.</li>
</ol>


          
        </div>
      </div>
    </div>
  </div>

</body>
</html>
